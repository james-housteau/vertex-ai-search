# Genesis Sync Configuration
# This file controls how Genesis syncs template files to your project
# Generated by: genesis init

version: "1.0"

template_source: python-api  # Template type for sync operations

# Project metadata
project:
  name: genesis-cli
  type: python-api  # Detected project type
  genesis_version: 2.0.23

# Template variables used for file generation
# You can modify these values to customize generated files
variables:
  project_name: genesis-cli
  module_name: genesis_cli
  command_name: genesis-cli
  github_user: James Housteau

# File synchronization rules
# File sync policies:
#   - always: Always update from template (Genesis-managed)
#   - if_unchanged: Only update if user hasn't modified
#   - never: Only sync on initial creation
#   - local_override: User's version takes precedence
files:
  - source: shared/Dockerfile.template
    dest: Dockerfile
    sync: never
    description: "Development container configuration"
  - source: shared/.claude/hooks/validate-bash-command.sh
    dest: .claude/hooks/validate-bash-command.sh
    sync: always
    executable: true
    description: "Claude Code hook"
  - source: shared/.genesis/scripts/setup/setup.sh
    dest: .genesis/scripts/setup/setup.sh
    sync: if_unchanged
    executable: true
    description: "Project setup script"
  - source: shared/.gitignore.template
    dest: .gitignore
    sync: never
    description: "Git ignore patterns"
  - source: shared/Makefile
    dest: Makefile
    sync: if_unchanged
    description: "Build automation"
  - source: shared/.pre-commit-config.yaml.template
    dest: .pre-commit-config.yaml
    sync: if_unchanged
    description: "Pre-commit hooks configuration"
  - source: shared/.claude/settings.json
    dest: .claude/settings.json
    sync: if_unchanged
    description: "Claude Code configuration"
  - source: ".pre-commit-config.yaml"
    dest: ".pre-commit-config.yaml"
    sync: if_unchanged
    description: "Pre-commit hooks configuration"
  - source: ".gitignore"
    dest: ".gitignore"
    sync: never
    description: "Git ignore patterns"
  - source: shared/CLAUDE.md.template
    dest: CLAUDE.md
    sync: never
    description: "AI assistant instructions"
  - source: pyproject.toml
    dest: pyproject.toml
    sync: never
    description: "File: pyproject.toml"
  - source: ".envrc"
    dest: ".envrc"
    sync: never
    description: "File: .envrc"
  - source: README.md
    dest: README.md
    sync: never
    description: "File: README.md"
  - source: CLAUDE.md
    dest: CLAUDE.md
    sync: never
    description: "File: CLAUDE.md"
  - source: docker-compose.yml
    dest: docker-compose.yml
    sync: local_override
    description: "Docker Compose configuration"

# Patterns to exclude from sync operations
exclude:
  - "*.pyc"
  - __pycache__
  - ".git"
  - ".venv"
  - node_modules
  - dist
  - build
  - ".terraform"
  - "*.log"
  - "*.tmp"
  - ".DS_Store"

# Sync policy configuration settings
sync_policies:
  backup_changed_files: true  # Backup files before modifying
  backup_suffix: ".bak"  # Suffix for backup files
  create_directories: true  # Auto-create destination directories
  preserve_permissions: true  # Maintain file permissions
  validate_templates: true  # Validate template syntax

# Sync behavior options
sync_options:
  create_backups: true  # Create .bak files before overwriting
  show_diff: true  # Show diffs for changed files
  auto_format: true  # Run formatters after sync
  preserve_executable: true  # Preserve file permissions
